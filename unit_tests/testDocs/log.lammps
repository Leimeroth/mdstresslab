LAMMPS (29 Oct 2020)
# in.uniaxialstrain
# Verify MDStressLab work properly
# Min Shi
# Version 1.0

clear

variable lattice_constant equal 5.430949777364731 #Lattice parameter
variable unit_cells_x     equal 10
variable unit_cells_y     equal 10 #Must be even
variable unit_cells_z     equal 10

units           metal
boundary        p p p
atom_style      atomic
atom_modify	    map array
atom_modify     sort 0 0 # Must have in every simulation to prevent atom id changing

lattice         diamond ${lattice_constant} orient x 1 0 0 orient y 0 1 0 orient z 0 0 1
lattice         diamond 5.43094977736473 orient x 1 0 0 orient y 0 1 0 orient z 0 0 1
Lattice spacing in x,y,z = 5.4309498 5.4309498 5.4309498
region          box block 0 ${unit_cells_x} 0 ${unit_cells_y} 0 ${unit_cells_z} units lattice
region          box block 0 10 0 ${unit_cells_y} 0 ${unit_cells_z} units lattice
region          box block 0 10 0 10 0 ${unit_cells_z} units lattice
region          box block 0 10 0 10 0 10 units lattice
create_box      1 box
Created orthogonal box = (0.0000000 0.0000000 0.0000000) to (54.309498 54.309498 54.309498)
  1 by 1 by 1 MPI processor grid
create_atoms    1 box
Created 8000 atoms
  create_atoms CPU = 0.002 seconds

pair_style kim SW_StillingerWeber_1985_Si__MO_405512056662_005
pair_coeff * * Si
mass 1 28.0855

compute spatom all stress/atom NULL
compute vol_atom all voronoi/atom
variable p1 atom "c_spatom[1]/c_vol_atom[1]/10000/160.21766208"
variable p2 atom "c_spatom[2]/c_vol_atom[1]/10000/160.21766208"
variable p3 atom "c_spatom[3]/c_vol_atom[1]/10000/160.21766208"
variable p4 atom "c_spatom[4]/c_vol_atom[1]/10000/160.21766208"
variable p5 atom "c_spatom[5]/c_vol_atom[1]/10000/160.21766208"
variable p6 atom "c_spatom[6]/c_vol_atom[1]/10000/160.21766208"
variable p7 equal "-pxx/10000/160.21766208"
variable p8 equal "-pyy/10000/160.21766208"
variable p9 equal "-pzz/10000/160.21766208"

compute        p all reduce sum c_spatom[1] c_spatom[2] c_spatom[3]
variable       press equal -(c_p[1]+c_p[2]+c_p[3])/(3*vol)
variable       press1 equal (c_p[1])/(vol)/10000/160.21766208
variable       press2 equal (c_p[2])/(vol)/10000/160.21766208
variable       press3 equal (c_p[3])/(vol)/10000/160.21766208
thermo_style   custom step temp etotal press v_press v_press1 v_press2 v_press3

reset_timestep 0
fix def1 all print 1 "${p7} ${p8} ${p9}" file Si.def1_init.txt

dump          1 all custom 1 dump.initial.* id type x y z v_p1 v_p2 v_p3 v_p4 v_p5 v_p6
dump_modify   1 element Si format line "%d %d %25.16f %25.16f %25.16f %25.16f %25.16f %25.16f %25.16f %25.16f %25.16f"

run		      0	#to update thermo data
Neighbor list info ...
  update every 1 steps, delay 10 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.77118
  ghost atom cutoff = 5.77118
  binsize = 2.88559, bins = 19 19 19
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair kim, perpetual
      attributes: full, newton off, cut 5.77118
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
-3.63819665166335e-10 -3.63819665166335e-10 -3.63819664288118e-10
Per MPI rank memory allocation (min/avg/max) = 8.944 | 8.944 | 8.944 Mbytes
Step Temp TotEng Press v_press v_press1 v_press2 v_press3 
       0            0     -34691.2 0.00058290336           -0            0            0            0 
Loop time of 1.56401e-06 on 1 procs for 0 steps with 8000 atoms

511.5% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.564e-06  |            |       |100.00

Nlocal:        8000.00 ave        8000 max        8000 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        6725.00 ave        6725 max        6725 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:        0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:     272000.0 ave      272000 max      272000 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 272000
Ave neighs/atom = 34.000000
Neighbor list builds = 0
Dangerous builds = 0

undump 1


run 1
-3.63819665166335e-10 -3.63819665166335e-10 -3.63819664288118e-10
Per MPI rank memory allocation (min/avg/max) = 5.273 | 5.273 | 5.273 Mbytes
Step Temp TotEng Press v_press v_press1 v_press2 v_press3 
       0            0     -34691.2 0.00058290336           -0            0            0            0 
-3.63819665166335e-10 -3.63819665166335e-10 -3.63819664288118e-10
       1            0     -34691.2 0.00058290336           -0            0            0            0 
Loop time of 0.0475497 on 1 procs for 1 steps with 8000 atoms

Performance: 1.817 ns/day, 13.208 hours/ns, 21.031 timesteps/s
92.4% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.046849   | 0.046849   | 0.046849   |   0.0 | 98.53
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 7.3936e-05 | 7.3936e-05 | 7.3936e-05 |   0.0 |  0.16
Output  | 0.00047276 | 0.00047276 | 0.00047276 |   0.0 |  0.99
Modify  | 0.00013331 | 0.00013331 | 0.00013331 |   0.0 |  0.28
Other   |            | 2.067e-05  |            |       |  0.04

Nlocal:        8000.00 ave        8000 max        8000 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        6725.00 ave        6725 max        6725 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:        0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:     272000.0 ave      272000 max      272000 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 272000
Ave neighs/atom = 34.000000
Neighbor list builds = 0
Dangerous builds = 0
unfix def1

clear

variable lattice_constant equal 5.430949777364731 #Lattice parameter
variable unit_cells_x     equal 10
variable unit_cells_y     equal 10 #Must be even
variable unit_cells_z     equal 10

units           metal
boundary        p p p
atom_style      atomic
atom_modify	    map array
atom_modify     sort 0 0 # Must have in every simulation to prevent atom id changing

#create lattice
lattice         custom 1.0 a1              5.430949777364731 0 0 a2              0 5.48525927513837831 0 a3              0 0 5.430949777364731 basis           0 0 0 basis           0 0.5 0.5 basis           0.5 0 0.5 basis           0.5 0.5 0 basis           0.25 0.25 0.25 basis           0.25 0.75 0.75 basis           0.75 0.25 0.75 basis           0.75 0.75 0.25
Lattice spacing in x,y,z = 5.4309498 5.4852593 5.4309498

region          box block 0 ${unit_cells_x} 0 ${unit_cells_y} 0 ${unit_cells_z} units lattice
region          box block 0 10 0 ${unit_cells_y} 0 ${unit_cells_z} units lattice
region          box block 0 10 0 10 0 ${unit_cells_z} units lattice
region          box block 0 10 0 10 0 10 units lattice
create_box      1 box
Created orthogonal box = (0.0000000 0.0000000 0.0000000) to (54.309498 54.852593 54.309498)
  1 by 1 by 1 MPI processor grid
create_atoms    1 box
Created 8000 atoms
  create_atoms CPU = 0.001 seconds

pair_style kim SW_StillingerWeber_1985_Si__MO_405512056662_005
pair_coeff * * Si
mass 1 28.0855

compute spatom all stress/atom NULL
compute vol_atom all voronoi/atom
variable p1 atom "c_spatom[1]/c_vol_atom[1]/10000/160.21766208"
variable p2 atom "c_spatom[2]/c_vol_atom[1]/10000/160.21766208"
variable p3 atom "c_spatom[3]/c_vol_atom[1]/10000/160.21766208"
variable p4 atom "c_spatom[4]/c_vol_atom[1]/10000/160.21766208"
variable p5 atom "c_spatom[5]/c_vol_atom[1]/10000/160.21766208"
variable p6 atom "c_spatom[6]/c_vol_atom[1]/10000/160.21766208"
variable p7 equal "-pxx/10000/160.21766208"
variable p8 equal "-pyy/10000/160.21766208"
variable p9 equal "-pzz/10000/160.21766208"

compute        p all reduce sum c_spatom[1] c_spatom[2] c_spatom[3]
variable       press equal -(c_p[1]+c_p[2]+c_p[3])/(3*vol)
variable       press1 equal (c_p[1])/(vol)/10000/160.21766208
variable       press2 equal (c_p[2])/(vol)/10000/160.21766208
variable       press3 equal (c_p[3])/(vol)/10000/160.21766208
thermo_style   custom step temp etotal press v_press v_press1 v_press2 v_press3

reset_timestep 1
fix def2 all print 1 "${p7} ${p8} ${p9}" file Si.def1_final.txt
dump           2 all custom 1 dump.final.* id type x y z v_p1 v_p2 v_p3 v_p4 v_p5 v_p6
dump_modify    2 element Si format line "%d %d %25.16f %25.16f %25.16f %25.16f %25.16f %25.16f %25.16f %25.16f %25.16f"

run 0
Neighbor list info ...
  update every 1 steps, delay 10 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.77118
  ghost atom cutoff = 5.77118
  binsize = 2.88559, bins = 19 20 19
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair kim, perpetual
      attributes: full, newton off, cut 5.77118
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
0.00465523181387797 0.00934565902550846 0.00465523181387798
Per MPI rank memory allocation (min/avg/max) = 8.947 | 8.947 | 8.947 Mbytes
Step Temp TotEng Press v_press v_press1 v_press2 v_press3 
       1            0   -34683.687   -9963.4678           -0            0            0            0 
Loop time of 1.65301e-06 on 1 procs for 0 steps with 8000 atoms

363.0% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0          | 0          | 0          |   0.0 |  0.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0          | 0          | 0          |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 1.653e-06  |            |       |100.00

Nlocal:        8000.00 ave        8000 max        8000 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        6725.00 ave        6725 max        6725 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:        0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:     272000.0 ave      272000 max      272000 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 272000
Ave neighs/atom = 34.000000
Neighbor list builds = 0
Dangerous builds = 0
undump 2

run 1
0.00465523181387797 0.00934565902550846 0.00465523181387798
Per MPI rank memory allocation (min/avg/max) = 5.275 | 5.275 | 5.275 Mbytes
Step Temp TotEng Press v_press v_press1 v_press2 v_press3 
       1            0   -34683.687   -9963.4678           -0            0            0            0 
0.00465523181387797 0.00934565902550846 0.00465523181387798
       2            0   -34683.687   -9963.4678           -0            0            0            0 
Loop time of 0.0498776 on 1 procs for 1 steps with 8000 atoms

Performance: 1.732 ns/day, 13.855 hours/ns, 20.049 timesteps/s
92.1% CPU use with 1 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.04882    | 0.04882    | 0.04882    |   0.0 | 97.88
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00014922 | 0.00014922 | 0.00014922 |   0.0 |  0.30
Output  | 0.00074131 | 0.00074131 | 0.00074131 |   0.0 |  1.49
Modify  | 0.00012759 | 0.00012759 | 0.00012759 |   0.0 |  0.26
Other   |            | 3.92e-05   |            |       |  0.08

Nlocal:        8000.00 ave        8000 max        8000 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        6725.00 ave        6725 max        6725 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:        0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:     272000.0 ave      272000 max      272000 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 272000
Ave neighs/atom = 34.000000
Neighbor list builds = 0
Dangerous builds = 0
unfix def2
Total wall time: 0:00:00
